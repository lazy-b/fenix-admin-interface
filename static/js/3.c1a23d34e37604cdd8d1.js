webpackJsonp([3],{"8ZxV":function(e,t,a){"use strict";a.d(t,"a",function(){return o});var o={name:[],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}},EYWB:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasGetData,expression:"hasGetData"}],staticClass:"table my-datagrid"},[a("el-row",{staticClass:"edit-button"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content"},[a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-plus",round:""},on:{click:e.addHandler}},[e._v("\n          新增一行\n        ")]),e._v(" "),a("el-button",{attrs:{size:"medium",type:"danger",icon:"el-icon-delete",round:""},on:{click:e.batchDeleteHandler}},[e._v("\n          批量删除\n        ")]),e._v(" "),a("el-button",{attrs:{size:"medium",type:"warning",round:""},on:{click:e.reloadHandler}},[e._v("\n          重新加载\n        ")])],1)]),e._v(" "),a("el-col",{attrs:{span:12,offset:0}},[a("el-form",{ref:"searchForm",staticClass:"inline-form",attrs:{inline:""}},[a("el-form-item",[a("el-popover",{attrs:{placement:"bottom","popper-class":"auto-complete",trigger:"focus"}},[a("ul",{on:{wheel:function(t){t.preventDefault(),e.autoCompleteWheel(t)}}},e._l(e.autoCompleteValueArr,function(t,o){return a("li",{key:o,attrs:{value:t},on:{click:function(t){t.preventDefault(),e.autoCompleteClick(t)}}},[e._v("\n                "+e._s(t)+"\n              ")])})),e._v(" "),a("el-input",{attrs:{slot:"reference",spellcheck:"false",placeholder:"请输入内容"},on:{focus:function(t){e.autoCompleteFocus({targetObj:"searchForm",targetKey:"value",sourceKey:e.searchForm.valueType})}},slot:"reference",model:{value:e.searchForm.value,callback:function(t){e.$set(e.searchForm,"value","string"==typeof t?t.trim():t)},expression:"searchForm.value"}},[a("el-select",{staticClass:"my-select-type",attrs:{slot:"prepend",filterable:"",placeholder:"请先选择搜索类型"},on:{change:e.changeKeyValue},slot:"prepend",model:{value:e.searchForm.valueType,callback:function(t){e.$set(e.searchForm,"valueType",t)},expression:"searchForm.valueType"}},e._l(e.searchForm.valueTypeArr,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){t.preventDefault(),e.offlineSearch(t)}},slot:"append"})],1)],1)],1)],1)],1)],1),e._v(" "),a("el-table",{attrs:{data:e.datagridData,border:"",stripe:"","empty-text":" ",height:e.tableHeight},on:{select:e.selected,"select-all":e.selected}},[a("el-table-column",{attrs:{type:"index",width:"19"}}),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"19"}}),e._v(" "),e._l(e.datagridConfig,function(t){return a("el-table-column",{key:t.field,attrs:{prop:t.field,label:t.title,formatter:e.tableFormat,sortable:t.sortable,"show-overflow-tooltip":"",width:t.width}})}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.editHandler(t.$index,t.row)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){e.deleteHandler(t.$index,t.row)}}},[e._v("\n          删除\n        ")])]}}])})],2),e._v(" "),a("div",{staticClass:"dialogContain"},[a("el-dialog",{attrs:{title:e.dialogTitle,center:"","append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"140px"}},[e._l(e.datagridConfig,function(t,o){return a("el-form-item",{key:t.field,attrs:{label:t.title,prop:t.rule}},[t.autoComplete?a("el-popover",{attrs:{placement:"bottom","popper-class":"auto-complete","visible-arrow":"",trigger:"focus"}},[a("ul",{on:{wheel:function(t){t.preventDefault(),e.autoCompleteWheel(t)}}},e._l(e.autoCompleteValueArr,function(t,o){return a("li",{key:o,attrs:{value:t},on:{click:function(t){t.preventDefault(),e.autoCompleteClick(t)}}},[e._v("\n                "+e._s(t)+"\n              ")])})),e._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:t.placeholder,spellcheck:"false"},on:{focus:function(a){e.autoCompleteFocus({targetObj:"form",targetKey:t.field,sourceKey:t.field})}},slot:"reference",model:{value:e.form[t.field],callback:function(a){e.$set(e.form,t.field,a)},expression:"form[item.field]"}})],1):a(t.componentTag,{tag:"component",attrs:{spellcheck:"false",type:t.type,placeholder:t.placeholder},model:{value:e.form[t.field],callback:function(a){e.$set(e.form,t.field,a)},expression:"form[item.field]"}})],1)}),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"表id"}},[a("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1)],2),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveRow}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)],1)},r=[],l={render:o,staticRenderFns:r};t.a=l},OVQD:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var o=a("rVsN"),r=a.n(o),l=a("yEoQ"),n=a.n(l),i={ORDERINFO:"../../orderInfo",ORDERSCHEDULE:"../../orderSchedule"},s=function(e){var t=e.name.toUpperCase(),a=i[t],o=null;switch(e.method.toUpperCase()){case"GET":o=n.a.get(a+"/list.do");break;case"ADD":o=n.a.post(a+"/insert.do",{data:e.data});break;case"DELETE":o=n.a.post(a+"/deleteBatch.do",{data:e.data});break;case"EDIT":o=n.a.post(a+"/update.do",{data:e.data});break;default:o=r.a.reject(new Error("请求参数有误")).then(null,function(e){console.log(e)})}return o}},Opsc:function(e,t,a){"use strict";var o=a("hhm8"),r=a("OVQD"),l=a("8ZxV"),n=a("TqVl");t.a={data:function(){return{datagridConfig:[],hasGetData:!1,dialogFormVisible:!1,sourceData:[],searchForm:{isSearch:!1,valueType:"orderNo",valueTypeArr:[{value:"orderNo",label:"订单号"},{value:"productName",label:"产品名称"}],value:"",searchValue:""},selection:[],editRow:{},requestParams:{method:"GET",name:"orderInfo",params:{ids:""},data:{}},dialogTitle:"新增信息",form:{id:""},rules:{},autoComplete:{orderNo:[],productName:[]},autoCompleteConfig:{sliceBegin:0,showLen:5,resultLen:-1},autoCompleteTarget:{targetObj:"",targetKey:"",sourceKey:""},format:{date:[]}}},computed:{datagridData:function(){var e=this.searchForm,t=this.sourceData,a=e.valueType,o=e.searchValue;return e.isSearch&&""!==o&&(t=t.filter(function(e){return e[a]==o}),this.searchForm.searchValue="",this.searchForm.isSearch=!1),t},autoCompleteValueArr:function(){var e,t,a=this.autoComplete,o=this.autoCompleteConfig,r=this.autoCompleteTarget,l=o.sliceBegin,n=l+o.showLen;return r.targetObj&&r.targetKey&&r.sourceKey?(e=this[r.targetObj][r.targetKey],t=a[r.sourceKey]):(e="",t=a.orderNo),t=0!==e.length?t.filter(function(t){return-1!=(t+"").toLowerCase().indexOf((""+e).toLowerCase())}):t,this.autoCompleteConfig.resultLen=t.length,t.slice(l,n)},tableHeight:function(){return document.body.clientHeight||document.documentElement.clientHeight-240}},methods:{getData:function(){var e=this;this.requestParams.method="get",Object(r.a)(this.requestParams).then(function(t){t&&t.data&&t.data.tableInfo?(e.sourceData=t.data.tableInfo,e.hasGetData=!0,e.setAutoList()):console.log("后台返回数据有误！")},function(t){e.$alert("获取表格数据失败，请稍后重试或者联系管理员。","错误",{confirmButtonText:"确定",callback:function(t){e.$message({type:"info",message:"action: "+t})}})})},changeKeyValue:function(e){this.searchForm.valueType=e,this.searchForm.value="",this.searchForm.searchValue="",this.autoCompleteTarget.sourceKey=e},offlineSearch:function(e){this.searchForm.searchValue=this.searchForm.value,this.searchForm.isSearch=!0},setAutoList:function(){for(var e=this.sourceData,t=(this.datagridConfig,{}),a=0,o=e.length;a<o;a++)for(var r in this.autoComplete)t[r]||(t[r]={}),t[r][e[a][r]]||(t[r][e[a][r]]=!0,this.autoComplete[r].push(e[a][r]))},autoCompleteFocus:function(e){this.autoCompleteTarget.targetObj=e.targetObj,this.autoCompleteTarget.targetKey=e.targetKey,this.autoCompleteTarget.sourceKey=e.sourceKey?e.sourceKey:e.targetKey},autoCompleteWheel:function(e){var t=this.autoCompleteConfig,a=t.sliceBegin,o=a+t.showLen,r=t.resultLen;e.deltaY>0&&o<r?this.autoCompleteConfig.sliceBegin++:e.deltaY<0&&a>0&&this.autoCompleteConfig.sliceBegin--},autoCompleteClick:function(e){var t=e.srcElement.innerText,a=this.autoCompleteTarget.targetObj,o=this.autoCompleteTarget.targetKey;this[a][o]=t,this.autoCompleteConfig.sliceBegin=0},selected:function(e){this.selection=e},addHandler:function(){this.dialogFormVisible=!0,this.requestParams.method="add"},deleteHandler:function(e,t){var a=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.requestParams.method="delete",a.requestParams.data={ids:t.id},Object(r.a)(a.requestParams).then(function(e){if(e.status>=200&&e.status<=300){var o=(e.data.msg,0);o=a.sourceData.indexOf(t),a.sourceData.splice(o,1),a.setAutoList(),a.$message({type:"success",message:"第- "+o+" -条数据删除成功！"})}},function(e){a.$message({type:"info",message:"删除失败！"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},batchDeleteHandler:function(){for(var e=this,t=this.selection,a=t.length,o=[],l="",n=0;n<a;n++)o.push(t[n].id);l=o.join(","),this.$confirm("您选中了- "+a+" -条数据！此操作将永久删除这些数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.requestParams.method="delete",e.requestParams.data={ids:l},Object(r.a)(e.requestParams).then(function(o){if(o.status>=200&&o.status<=300){for(var r=(o.data.msg,0),l=0;l<a;l++)r=e.sourceData.indexOf(t[l]),e.sourceData.splice(r,1);e.setAutoList(),e.$message({type:"success",message:"共- "+a+" -条数据删除成功！"})}},function(t){e.$message({type:"info",message:"删除失败！"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},editHandler:function(e,t){for(var a in this.form)this.form[a]=t[a];this.dialogFormVisible=!0,this.requestParams.method="edit",this.editRow=t},saveRow:function(){var e=this;this.$refs.form.validate(function(t){var a={};t?(e.requestParams.data=e.form,Object(r.a)(e.requestParams).then(function(t){if(t.status>=200&&t.status<=300){var o=t.data.msg,r=0;for(var l in e.form)a[l]=e.form[l];"edit"==e.requestParams.method?(r=e.sourceData.indexOf(e.editRow),e.sourceData.splice(r,1,a)):e.sourceData.splice(0,0,a),e.setAutoList(),e.$message({type:"success",message:o+"数据保存成功！"}),e.dialogFormVisible=!1}},function(t){e.$message({type:"info",message:"数据保存失败！"})})):e.$message({type:"info",message:"数据验证失败，请检查数据！！"})})},reloadHandler:function(){var e=this;this.$confirm("此操作将重新从后台请求数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.getData()}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},tableFormat:function(e,t,a){return this.format.date.indexOf(t.property)>=0&&(a=o.a.formatDate(a,["年","月","日"])),a}},mounted:function(){var e=this;this.$nextTick(function(){e.requestParams.name=e.$route.name;var t=n[e.$route.name];if(e.datagridConfig=t,!t)return void e.$router.replace({name:"404"});for(var a=0;a<t.length;a++)t[a].type.indexOf("date")>=0&&e.format.date.splice(0,0,t[a].field),e.$set(e.form,t[a].field,""),t[a].autoComplete&&!e.autoComplete[t[a].field]&&e.$set(e.autoComplete,t[a].field,[]);e.getData(),e.rules=l.a})}}},TqVl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"orderInfo",function(){return o}),a.d(t,"orderSchedule",function(){return r});var o=[{autoComplete:!0,sortable:!0,field:"orderNo",title:"订单号",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!0,sortable:!0,field:"productName",title:"产品名称",width:120,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"orderAmount",title:"订单数量",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"stockAmount",title:"库存",width:60,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"spareParts",title:"备品",width:60,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"planAmount",title:"需生产数",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"orderDate",title:"下单日期",width:100,componentTag:"el-date-picker",rule:"name",placeholder:"请输入",type:"date"},{autoComplete:!1,sortable:!0,field:"requiredDate",title:"要求交货日期",width:100,componentTag:"el-date-picker",rule:"name",placeholder:"请输入",type:"date"},{autoComplete:!1,sortable:!0,field:"replyDate",title:"交期",width:100,componentTag:"el-date-picker",rule:"name",placeholder:"请输入",type:"date"},{autoComplete:!1,sortable:!0,field:"purchaseRequirement",title:"特别要求",width:180,componentTag:"el-input",rule:"name",placeholder:"请输入",type:"textarea"},{autoComplete:!0,sortable:!0,field:"materialCoding",title:"物料长代码",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!0,sortable:!0,field:"materialModel",title:"规格型号",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!0,sortable:!0,field:"orderStatus",title:"生产状态",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!0,sortable:!0,field:"remark",title:"备注",width:140,componentTag:"el-input",rule:"name",placeholder:"请输入",type:"textarea"},{autoComplete:!0,sortable:!0,field:"exceptionReason",title:"异常原因",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!0,sortable:!0,field:"orderType",title:"订单类型",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"price",title:"单价",width:80,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""}],r=[{autoComplete:!0,sortable:!0,field:"orderNo",title:"订单号",width:100,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!0,sortable:!0,field:"productName",title:"产品名称",width:120,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"batch",title:"批次",width:60,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"reciverOrder",title:"下单日期",width:100,componentTag:"el-date-picker",rule:"name",placeholder:"请输入",type:"date"},{autoComplete:!1,sortable:!0,field:"planProductTime",title:"计划生产开始时间",width:100,componentTag:"el-date-picker",rule:"name",placeholder:"请输入",type:"date"},{autoComplete:!1,sortable:!0,field:"productStatus",title:"生产开始状态",width:60,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"planProductFinish",title:"计划生产完成时间",width:100,componentTag:"el-date-picker",rule:"name",placeholder:"请输入",type:"date"},{autoComplete:!1,sortable:!0,field:"productFinishStatus",title:"生产完成状态",width:60,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""},{autoComplete:!1,sortable:!0,field:"planOrderFinish",title:"订单计划完成时间",width:100,componentTag:"el-date-picker",rule:"name",placeholder:"请输入",type:"date"},{autoComplete:!1,sortable:!0,field:"orderFinishStatus",title:"订单完成状态",width:60,componentTag:"el-input",rule:"name",placeholder:"请输入",type:""}]},hhm8:function(e,t,a){"use strict";t.a={unique:function(e){var t=[],a={},o=e.length,r=void 0,l=void 0;for(r=0;r<o;r++)l=e[r],a[l]||(t.push(l),a[l]=!0);return t},getFilters:function(e,t){var a={},o={};return e&&e.length&&t&&t.length&&e.foreach(function(e){t.foreach(function(t){a[t]||(a[t]={},o[t]=[]),a[t][e[t]]||(a[t][e[t]]=!0,o[t].push(e[t]))})}),o},getState:function(e){var t={state:"未处理",name:"处理订单",planDate:new Date,factDate:null,remarks:"订单已接收，但还未进行处理！！"},a={state:"",name:"",planDate:null,factDate:null,remarks:""};switch(!0){case!!e[4].factDate:a={state:"开始交货",name:e[4].name,planDate:e[4].planDate,factDate:e[4].factDate,remarks:e[4].remarks};break;case!!e[3].factDate:a={state:"开始生产",name:e[3].name,planDate:e[3].planDate,factDate:e[3].factDate,remarks:e[3].remarks};break;case!!e[2].factDate:a={state:"安排计划",name:e[2].name,planDate:e[2].planDate,factDate:e[2].factDate,remarks:e[2].remarks};break;case!!e[1].factDate:a={state:"开始领料",name:e[1].name,planDate:e[1].planDate,factDate:e[1].factDate,remarks:e[1].remarks};break;case!!e[0].factDate:a={state:"沟通交期",name:e[0].name,planDate:e[0].planDate,factDate:e[0].factDate,remarks:e[0].remarks};break;default:a=t}return a},formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["-","-",""],a="";if(e){var o=new Date(e);a=o.getFullYear()+t[0]+(o.getMonth()+1)+t[1]+o.getDate()+t[2]}return a},classof:function(e){return null===e?"null":void 0===e?"undefined":Object.prototype.toString.call(e).slice(8,-1)},deepClone:function(e){var t=this.classof(e),a=void 0;if("Object"===t)a={};else{if("Array"!==t)return e;a=[]}for(var o in e){var r=e[o];"Object"===this.classof(r)?a[o]=this.deepClone(r):"Array"===this.classof(r)?a[o]=this.deepClone(r):a[o]=e[o]}return a}}},laCf:function(e,t,a){var o=a("rVad");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("8bSs")("78027d07",o,!0)},o50x:function(e,t,a){"use strict";function o(e){a("laCf")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Opsc"),l=a("EYWB"),n=a("46Yf"),i=o,s=n(r.a,l.a,!1,i,"data-v-9ca3c0a6",null);t.default=s.exports},rVad:function(e,t,a){t=e.exports=a("BkJT")(!0),t.push([e.i,".edit-button[data-v-9ca3c0a6]{height:50px;overflow:auto}.inline-form[data-v-9ca3c0a6]{height:50px}","",{version:3,sources:["F:/demo/vueDemo/vue-element/src/components/main/views/Table.vue"],names:[],mappings:"AACA,8BACE,YAAa,AACb,aAAe,CAChB,AAED,8BACE,WAAa,CACd",file:"Table.vue",sourcesContent:["\n.edit-button[data-v-9ca3c0a6] {\n  height: 50px;\n  overflow: auto;\n}\n/*行内表单的高度*/\n.inline-form[data-v-9ca3c0a6] {\n  height: 50px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=3.c1a23d34e37604cdd8d1.js.map